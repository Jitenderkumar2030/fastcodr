"use strict";const b=require("electron");var O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D={},U={},C={};Object.defineProperty(C,"__esModule",{value:!0});C.CallbacksRegistry=void 0;class re{constructor(){this.nextId=0,this.callbacks={},this.callbackIds=new WeakMap,this.locationInfo=new WeakMap}add(r){let c=this.callbackIds.get(r);if(c!=null)return c;c=this.nextId+=1,this.callbacks[c]=r,this.callbackIds.set(r,c);const o=/at (.*)/gi,a=new Error().stack;if(!a)return c;let l,p;for(;(p=o.exec(a))!==null;){const R=p[1];if(R.includes("(native)")||R.includes("(<anonymous>)")||R.includes("callbacks-registry.js")||R.includes("remote.js")||R.includes("@electron/remote/dist"))continue;const _=/([^/^)]*)\)?$/gi.exec(R);_&&(l=_[1]);break}return this.locationInfo.set(r,l),c}get(r){return this.callbacks[r]||function(){}}getLocation(r){return this.locationInfo.get(r)}apply(r,...c){return this.get(r).apply(O,...c)}remove(r){const c=this.callbacks[r];c&&(this.callbackIds.delete(c),delete this.callbacks[r])}}C.CallbacksRegistry=re;var y={};Object.defineProperty(y,"__esModule",{value:!0});y.deserialize=y.serialize=y.isSerializableObject=y.isPromise=void 0;const oe=b;function ie(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function}y.isPromise=ie;const ce=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function P(e){return e===null||ArrayBuffer.isView(e)||ce.some(r=>e instanceof r)}y.isSerializableObject=P;const G=function(e,r){const o=Object.entries(e).map(([a,l])=>[a,r(l)]);return Object.fromEntries(o)};function se(e){const r=[],c=e.getScaleFactors();if(c.length===1){const o=c[0],a=e.getSize(o),l=e.toBitmap({scaleFactor:o});r.push({scaleFactor:o,size:a,buffer:l})}else for(const o of c){const a=e.getSize(o),l=e.toDataURL({scaleFactor:o});r.push({scaleFactor:o,size:a,dataURL:l})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:r}}function ae(e){const r=oe.nativeImage.createEmpty();if(e.representations.length===1){const{buffer:c,size:o,scaleFactor:a}=e.representations[0],{width:l,height:p}=o;r.addRepresentation({buffer:c,scaleFactor:a,width:l,height:p})}else for(const c of e.representations){const{dataURL:o,size:a,scaleFactor:l}=c,{width:p,height:R}=a;r.addRepresentation({dataURL:o,scaleFactor:l,width:p,height:R})}return r}function I(e){return e&&e.constructor&&e.constructor.name==="NativeImage"?se(e):Array.isArray(e)?e.map(I):P(e)?e:e instanceof Object?G(e,I):e}y.serialize=I;function N(e){return e&&e.__ELECTRON_SERIALIZED_NativeImage__?ae(e):Array.isArray(e)?e.map(N):P(e)?e:e instanceof Object?G(e,N):e}y.deserialize=N;var V={},B={};Object.defineProperty(B,"__esModule",{value:!0});B.getElectronBinding=void 0;const ue=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null;B.getElectronBinding=ue;(function(e){var r,c;Object.defineProperty(e,"__esModule",{value:!0}),e.browserModuleNames=e.commonModuleNames=void 0;const o=B;e.commonModuleNames=["clipboard","nativeImage","shell"],e.browserModuleNames=["app","autoUpdater","BaseWindow","BrowserView","BrowserWindow","contentTracing","crashReporter","dialog","globalShortcut","ipcMain","inAppPurchase","Menu","MenuItem","nativeTheme","net","netLog","MessageChannelMain","Notification","powerMonitor","powerSaveBlocker","protocol","pushNotifications","safeStorage","screen","session","ShareMenu","systemPreferences","TopLevelWindow","TouchBar","Tray","utilityProcess","View","webContents","WebContentsView","webFrameMain"].concat(e.commonModuleNames);const a=o.getElectronBinding("features");((r=a==null?void 0:a.isDesktopCapturerEnabled)===null||r===void 0?void 0:r.call(a))!==!1&&e.browserModuleNames.push("desktopCapturer"),((c=a==null?void 0:a.isViewApiEnabled)===null||c===void 0?void 0:c.call(a))!==!1&&e.browserModuleNames.push("ImageView")})(V);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFunctionWithReturnValue=e.getGlobal=e.getCurrentWebContents=e.getCurrentWindow=e.getBuiltin=void 0;const r=C,c=y,o=b,a=V,l=B,{Promise:p}=O,R=new r.CallbacksRegistry,_=new Map,$=new FinalizationRegistry(n=>{const t=_.get(n);t!==void 0&&t.deref()===void 0&&(_.delete(n),o.ipcRenderer.send("REMOTE_BROWSER_DEREFERENCE",E,n,0))}),j=new WeakMap,k=new WeakSet;function q(n){const t=_.get(n);if(t!==void 0){const s=t.deref();if(s!==void 0)return s}}function v(n,t){const s=new WeakRef(t);return _.set(n,s),$.register(t,n),t}function x(){const n=l.getElectronBinding("v8_util");if(n)return n.getHiddenValue(O,"contextId");throw new Error("Electron >=v13.0.0-beta.6 required to support sandboxed renderers")}const E=process.contextId||x();process.on("exit",()=>{o.ipcRenderer.send("REMOTE_BROWSER_CONTEXT_RELEASE",E)});const L=Symbol("is-remote-proxy");function T(n,t=new Set){const s=i=>{if(t.has(i))return{type:"value",value:null};if(i&&i.constructor&&i.constructor.name==="NativeImage")return{type:"nativeimage",value:c.serialize(i)};if(Array.isArray(i)){t.add(i);const u={type:"array",value:T(i,t)};return t.delete(i),u}else{if(i instanceof Buffer)return{type:"buffer",value:i};if(c.isSerializableObject(i))return{type:"value",value:i};if(typeof i=="object"){if(c.isPromise(i))return{type:"promise",then:s(function(d,f){i.then(d,f)})};if(j.has(i))return{type:"remote-object",id:j.get(i)};const u={type:"object",name:i.constructor?i.constructor.name:"",members:[]};t.add(i);for(const d in i)u.members.push({name:d,value:s(i[d])});return t.delete(i),u}else return typeof i=="function"&&k.has(i)?{type:"function-with-return-value",value:s(i())}:typeof i=="function"?{type:"function",id:R.add(i),location:R.getLocation(i),length:i.length}:{type:"value",value:i}}};return n.map(s)}function W(n,t,s,i){if(Array.isArray(i))for(const u of i){if(Object.prototype.hasOwnProperty.call(t,u.name))continue;const d={enumerable:u.enumerable};if(u.type==="method"){const f=function(...S){let w;this&&this.constructor===f?w="REMOTE_BROWSER_MEMBER_CONSTRUCTOR":w="REMOTE_BROWSER_MEMBER_CALL";const te=o.ipcRenderer.sendSync(w,E,s,u.name,T(S));return g(te)};let m=K(f,s,u.name);d.get=()=>(m.ref=n,m),d.set=S=>(m=S,S),d.configurable=!0}else u.type==="get"&&(d.get=()=>{const m=o.ipcRenderer.sendSync("REMOTE_BROWSER_MEMBER_GET",E,s,u.name);return g(m)},u.writable&&(d.set=f=>{const m=T([f]),w=o.ipcRenderer.sendSync("REMOTE_BROWSER_MEMBER_SET",E,s,u.name,m);return w!=null&&g(w),f}));Object.defineProperty(t,u.name,d)}}function A(n,t,s,i){if(i===null)return;const u={};W(n,u,s,i.members),A(n,u,s,i.proto),Object.setPrototypeOf(t,u)}function K(n,t,s){let i=!1;const u=()=>{if(i)return;i=!0;const f=o.ipcRenderer.sendSync("REMOTE_BROWSER_MEMBER_GET",E,t,s);W(n,n,f.id,f.members)};return new Proxy(n,{set:(d,f,m)=>(f!=="ref"&&u(),d[f]=m,!0),get:(d,f)=>{if(f===L)return!0;Object.prototype.hasOwnProperty.call(d,f)||u();const m=d[f];return f==="toString"&&typeof m=="function"?m.bind(d):m},ownKeys:d=>(u(),Object.getOwnPropertyNames(d)),getOwnPropertyDescriptor:(d,f)=>{const m=Object.getOwnPropertyDescriptor(d,f);return m||(u(),Object.getOwnPropertyDescriptor(d,f))}})}function g(n){if(!n)return{};if(n.type==="value")return n.value;if(n.type==="array")return n.members.map(t=>g(t));if(n.type==="nativeimage")return c.deserialize(n.value);if(n.type==="buffer")return Buffer.from(n.value.buffer,n.value.byteOffset,n.value.byteLength);if(n.type==="promise")return p.resolve({then:g(n.then)});if(n.type==="error")return z(n);if(n.type==="exception")throw n.value.type==="error"?z(n.value):new Error(`Unexpected value type in exception: ${n.value.type}`);{let t;if("id"in n){const s=q(n.id);if(s!==void 0)return s}if(n.type==="function"){const s=function(...i){let u;this&&this.constructor===s?u="REMOTE_BROWSER_CONSTRUCTOR":u="REMOTE_BROWSER_FUNCTION_CALL";const d=o.ipcRenderer.sendSync(u,E,n.id,T(i));return g(d)};t=s}else t={};return W(t,t,n.id,n.members),A(t,t,n.id,n.proto),t.constructor&&t.constructor[L]&&Object.defineProperty(t.constructor,"name",{value:n.name}),j.set(t,n.id),v(n.id,t),t}}function z(n){const t=n.value;for(const{name:s,value:i}of n.members)t[s]=g(i);return t}function X(n){return typeof n.senderId=="number"}function F(n,t){o.ipcRenderer.on(n,(s,i,u,...d)=>{if(X(s)&&s.senderId!==0&&s.senderId!==void 0){console.error(`Message ${n} sent by unexpected WebContents (${s.senderId})`);return}i===E?t(u,...d):o.ipcRenderer.send("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",E,i,u)})}const Z=process.argv.includes("--enable-api-filtering-logging");function h(){const n={stack:void 0};return Z&&Error.captureStackTrace(n,h),n.stack}F("REMOTE_RENDERER_CALLBACK",(n,t)=>{R.apply(n,g(t))}),F("REMOTE_RENDERER_RELEASE_CALLBACK",n=>{R.remove(n)}),e.require=n=>{const s=o.ipcRenderer.sendSync("REMOTE_BROWSER_REQUIRE",E,n,h());return g(s)};function H(n){const s=o.ipcRenderer.sendSync("REMOTE_BROWSER_GET_BUILTIN",E,n,h());return g(s)}e.getBuiltin=H;function Q(){const t=o.ipcRenderer.sendSync("REMOTE_BROWSER_GET_CURRENT_WINDOW",E,h());return g(t)}e.getCurrentWindow=Q;function Y(){const t=o.ipcRenderer.sendSync("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",E,h());return g(t)}e.getCurrentWebContents=Y;function J(n){const s=o.ipcRenderer.sendSync("REMOTE_BROWSER_GET_GLOBAL",E,n,h());return g(s)}e.getGlobal=J,Object.defineProperty(e,"process",{enumerable:!0,get:()=>e.getGlobal("process")});function ee(n){const t=()=>n;return k.add(t),t}e.createFunctionWithReturnValue=ee;const ne=n=>{Object.defineProperty(e,n,{enumerable:!0,get:()=>e.getBuiltin(n)})};a.browserModuleNames.forEach(ne)})(U);(function(e){var r=O&&O.__createBinding||(Object.create?function(o,a,l,p){p===void 0&&(p=l),Object.defineProperty(o,p,{enumerable:!0,get:function(){return a[l]}})}:function(o,a,l,p){p===void 0&&(p=l),o[p]=a[l]}),c=O&&O.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&r(a,o,l)};if(Object.defineProperty(e,"__esModule",{value:!0}),process.type==="browser")throw new Error('"@electron/remote" cannot be required in the browser process. Instead require("@electron/remote/main").');c(U,e)})(D);var de=D;const M=new Map;b.contextBridge.exposeInMainWorld("electron",{ipcRenderer:{invoke:(e,...r)=>b.ipcRenderer.invoke(e,...r),on:(e,r)=>{var o;M.has(e)||M.set(e,[]);const c=(a,...l)=>r(...l);(o=M.get(e))==null||o.push(c),b.ipcRenderer.on(e,c)},removeListener:(e,r)=>{const c=M.get(e)||[],o=c.indexOf(r);if(o>-1){const a=c[o];b.ipcRenderer.removeListener(e,a),c.splice(o,1)}},send:(e,...r)=>{b.ipcRenderer.send(e,...r)},"terminal:create":e=>b.ipcRenderer.invoke("terminal:create",e),"terminal:write":(e,r)=>b.ipcRenderer.invoke("terminal:write",e,r),"terminal:resize":(e,r,c)=>b.ipcRenderer.invoke("terminal:resize",e,r,c),"terminal:dispose":e=>b.ipcRenderer.invoke("terminal:dispose",e)}});window.addEventListener("unload",()=>{M.forEach((e,r)=>{e.forEach(c=>{b.ipcRenderer.removeListener(r,c)})}),M.clear()});window.addEventListener("DOMContentLoaded",()=>{const e=(r,c)=>{const o=document.getElementById(r);o&&(o.innerText=c)};for(const r of["chrome","node","electron"])e(`${r}-version`,process.versions[r])});b.contextBridge.exposeInMainWorld("myAPI",{dialog:{showOpenDialog:e=>de.dialog.showOpenDialog(e)}});
